# PHY-resolve-imports

<p align="left">
  <a href="#"><img alt="PyPI" src="https://img.shields.io/pypi/v/phy-imports-resolver.svg"></a>
  <a href="#"><img alt="Python Versions" src="https://img.shields.io/pypi/pyversions/phy-imports-resolver.svg"></a>
  <a href="#"><img alt="License" src="https://img.shields.io/badge/license-MIT-blue.svg"></a>
</p>

Resolve imports of a python file or module recursively, exclude site packages & builtin modules.

This project is part of [`phy`](https://github.com/phy-precompiler).

## Install

## Install

If you intend to use this package as a library within your Python project, install it as follows:

```shell
pip install phy-imports-resolver
```

If you plan to use its command-line interface (CLI) to generate graphic digram, install the `cli-diagram` 
optional dependencies:

```shell
pip install phy-imports-resolver[cli-diagram]
```

## How to use

### the API

Use the `phy_imports_resolver.resolve(entry_file:, project_dir)` method:

```python
from pathlib import Path
import phy_imports_resolver

current_dir = Path.cwd().resolve()
phy_imports_resolver.resolve(current_dir / '__init__.py', project_dir=current_dir)
```

what returns is a `FileModuleImportsNode` object; see the reference in [types](docs/types.md).

### the CLI

```shell
Usage: phy-resolve-imports resolve-imports [OPTIONS] FILE

  Resolve imports from entry code file.

  FILE: path to the entry code file.
```

# API docs

+ [module](docs/module.md)
+ [resolver](docs/resolver.md)
+ [types](docs/types.md)

These markdown docs are generated by [`pydoc-markdown`](https://pypi.org/project/pydoc-markdown/):

```shell
pydoc-markdown -I src -m phy_imports_resolver --render-toc > module.md

pydoc-markdown -I src -m phy_imports_resolver.resolver --render-toc > resolver.md

pydoc-markdown -I src -m phy_imports_resolver.types --render-toc > types.md
```

## Reminder

This package DOES NOT support `importlib` to dynamically import modules, for the module imported by `importlib` can be
variable and thus can only be determined at runtime; otherwise, if the the module imported by `importlib` is
constant string, the developer can absolutely use import statement (non-top-placed) instead.
